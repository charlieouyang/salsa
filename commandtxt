PGPASSWORD=salsa psql -d salsa- -h postgres -U salsa

python3 manage.py db migrate -m "Add product table"


psql -h 0.0.0.0 -p 5432 -U salsa_api -W salsa


User27995691s-MacBook-Pro:salsa user27995691$ docker-compose run --rm -p 5001:5000 web bash

[root@salsa salsa]# export ENVIRONMENT=testing
[root@salsa salsa]# make db-reset
[root@salsa salsa]# python3 -m unittest -v tests.unit.api.test_listing.TestListingsController.test_list_with_name
[root@salsa salsa]# python3 -m unittest discover -s ./tests/unit/ -v



PRODUCTION db
PGPASSWORD={ADD PASSWORD} psql -d salsa -h 0.0.0.0 -U salsa_api -c 'ALTER SCHEMA public OWNER TO salsa_api;'
PGPASSWORD={ADD PASSWORD} psql -d salsa -f salsa/db/salsa.sql -h 0.0.0.0 -U salsa_api

kubectl create secret generic apiauthsalt --from-literal=AUTH_SALT=<password_string>


Create secret service account file
charlieouyang@cloudshell:~$ kubectl create secret generic storage-bucket-credentials --from-file=service_account.json=salsa-bucket-service-account.json

secret/storage-bucket-credentials created